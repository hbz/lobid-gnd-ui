<!DOCTYPE html>
<html
    lang="en"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
    <head>
        <title layout:title-pattern="$CONTENT_TITLE">[[#{app.title}]]</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" type="image/x-icon" href="/favicon.ico" />
        <link th:if="${!request.isDevserver}" th:href="@{/css/bundle.css}" rel="stylesheet" />
        <script th:src="@{/js/bundle.js}" defer></script>
    </head>
    <body>
        <div class="container">
            <nav class="navbar navbar-expand-md">
                <div class="container-fluid" id="header">
                    <div class="navbar-header">
                        <a th:href="@{/gnd}" class="navbar-brand">
                            <img
                                th:src="@{/images/logo.png}"
                                th:alt="#{app.title}"
                                width="30"
                                height="30"
                                class="d-inline-block align-top" />
                            <span class="ps-1">lobid</span>
                            <sup>
                                <span class="badge text-bg-primary">prototype</span>
                            </sup>
                        </a>
                        <button
                            type="button"
                            class="navbar-toggler"
                            data-bs-toggle="collapse"
                            data-bs-target="#navbarToggle"
                            th:aria-label="#{navigation.toggle}"
                            aria-controls="navbarToggle"
                            aria-expanded="false">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                    </div>
                    <div class="collapse navbar-collapse" id="navbarToggle">
                        <ul class="nav navbar-nav">
                            <li class="navbar-item">
                                <a
                                    th:href="@{/gnd}"
                                    class="nav-link"
                                    title="Einfache Suchoberfläche"
                                    th:classappend="${request.path == '/gnd' ? 'active' : ''}"
                                    >gnd</a
                                >
                            </li>
                            <li class="navbar-item">
                                <a
                                    th:href="@{/gnd/search}"
                                    class="nav-link"
                                    title="Die gesamte GND erkunden"
                                    th:classappend="${request.path == '/search'} ? 'active' : ''"
                                    >Erkunden</a
                                >
                            </li>
                            <li class="navbar-item">
                                <a
                                    th:href="@{/gnd/api}"
                                    class="nav-link"
                                    title="Programmierschnittstelle"
                                    th:classappend="${request.path == '/api'} ? 'active' : ''"
                                    >API</a
                                >
                            </li>
                        </ul>
                        <div class="dropdown ms-auto">
                            <a
                                class="btn dropdown-toggle"
                                href="#"
                                role="button"
                                id="dropdownMenuLink"
                                data-bs-toggle="dropdown"
                                aria-expanded="false"
                                th:classappend="${request.path == '/dataset'} ? 'active' : ''">
                                <i class="bi bi-info-circle"></i>
                            </a>

                            <ul
                                class="dropdown-menu dropdown-menu-end"
                                aria-labelledby="dropdownMenuLink">
                                <li class="dropdown-header">Dokumentation</li>
                                <li class="dropdown-item">
                                    <a
                                        th:href="@{/gnd/dataset}"
                                        class="nav-link"
                                        th:classappend="${request.path == '/dataset'} ? 'active' : ''"
                                        >Datenbeschreibung</a
                                    >
                                </li>
                                <li class="dropdown-item">
                                    <a
                                        th:href="@{http://blog.lobid.org/2018/07/04/lobid-gnd-suche.html}"
                                        target="_blank"
                                        >Suche und Navigation</a
                                    >
                                </li>
                                <li class="dropdown-item">
                                    <a
                                        th:href="@{http://blog.lobid.org/2018/07/06/lobid-gnd-queries.html}"
                                        target="_blank"
                                        >Formulierung komplexer Suchanfragen</a
                                    >
                                </li>
                                <li class="dropdown-item">
                                    <a th:href="@{/gnd/reconcile}" class="nav-link" target="_blank"
                                        >Integration in OpenRefine</a
                                    >
                                </li>
                                <li class="dropdown-item">
                                    <a th:href="@{http://lobid.org/usage-policy}" target="_blank"
                                        >Richtlinien API-Nutzung</a
                                    >
                                </li>
                                <li class="dropdown-divider"></li>
                                <li class="dropdown-header">Kontakt</li>
                                <li class="dropdown-item">
                                    <a
                                        th:href="@{'mailto:lobid-admin@hbz-nrw.de?subject=Feedback%20zu%20lobid-gnd,%20aktuelle%20Seite%20' + ${request.path}}"
                                        >Feedback zur aktuellen Seite</a
                                    >
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
            <form action="#" th:action="@{/gnd/search}" method="GET" id="search-form">
                <div class="input-group" id="search-simple">
                    <input
                        autofocus=""
                        type="text"
                        name="q"
                        id="gnd-query"
                        value=""
                        class="form-control"
                        autocomplete="off"
                        placeholder='Suchoptionen: AND, OR, AND NOT, ""-Phrasensuche, *-Trunkierung'
                        title="Suchanfrage" />
                    <span
                        role="status"
                        aria-live="polite"
                        class="ui-helper-hidden-accessible"></span>
                    <button class="btn btn-default" type="submit" title="Suchen">
                        <i class="bi bi-search"></i>
                    </button>
                </div>
            </form>
        </div>

        <main class="my-5">
            <div class="container">
                <p th:if="${MSG_SUCCESS}" class="alert alert-success mb-4" role="alert">
                    [[${MSG_SUCCESS}]]
                </p>
                <p th:if="${MSG_INFO}" class="alert alert-info mb-4" role="alert">
                    [[${MSG_INFO}]]
                </p>
                <p th:if="${MSG_ERROR}" class="alert alert-danger mb-4" role="alert">
                    [[${MSG_ERROR}]]
                </p>
                <div layout:fragment="content" />
                <div class="card my-5">
                    <div class="card-body footer">
                        <span class="float-start">
                            <img th:src="@{/images/wappen.png}" alt="NRW-Wappen" /> &nbsp; lobid-gnd
                            | ein Dienst des
                            <a th:href="@{https://www.hbz-nrw.de/produkte/linked-open-data}">hbz</a>
                        </span>
                        <span class="float-end">
                            <a th:href="@{http://lobid.org/warranty}">Gewährleistung</a> |
                            <a th:href="@{http://www.hbz-nrw.de/impressum}">Impressum</a> |
                            <a
                                th:href="@{https://github.com/hbz/lobid/blob/master/conf/Datenschutzerklaerung_lobid.textile}"
                                >Datenschutz</a
                            >
                            |
                            <a th:href="@{https://openbiblio.social/@lobid}"
                                ><i class="bi bi-mastodon"></i> Mastodon</a
                            >&nbsp;
                            <a th:href="@{http://github.com/hbz/lobid-gnd-ui}"
                                ><i class="bi bi-github"></i> GitHub</a
                            >&nbsp;
                            <a th:href="@{http://blog.lobid.org}"
                                ><i class="bi bi-pencil-fill"></i> Blog</a
                            >
                        </span>
                    </div>
                </div>
            </div>
        </main>
    </body>
</html>
